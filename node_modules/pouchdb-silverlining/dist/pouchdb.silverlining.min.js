!function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";var r=e("pouchdb-utils"),o=e("sqltomango");n.sql=r.toPromise(function(e,t){if("string"!=typeof e)throw"query must be a string";var n=o.parse(e);return 0!==Object.keys(n).length&&n.selector||(n.selector={}),this.find(n,t)}),"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{"pouchdb-utils":10,sqltomango:22}],2:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}t.exports=r},{}],3:[function(e,t,n){},{}],4:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function a(){var e;try{e=n.storage.debug}catch(e){}return e}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=s,n.load=a,n.useColors=r,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":5}],5:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(c||t);e.diff=i,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;a++;var o=n.formatters[r];if("function"==typeof o){var i=s[a];t=o.call(e,i),s.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s)),(o.log||n.log||console.log.bind(console)).apply(e,s)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=u,n.disable=s,n.enable=i,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,l=0},{ms:8}],6:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(s(n))for(i=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],7:[function(e,t,n){(function(e){"use strict";function n(){l=!0;for(var e,t,n=h.length;n;){for(t=h,h=[],e=-1;++e<n;)t[e]();n=h.length}l=!1}function r(e){1!==h.push(e)||l||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,a=new i(n),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),o=function(){u.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var l,h=[];t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*h;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return s(e,l,"day")||s(e,c,"hour")||s(e,u,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,l=24*c,h=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?i(e):o(e)}},{}],9:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,o="/"===s.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(e){var o=n.isAbsolute(e),i="/"===s(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),s=Math.min(o.length,i.length),a=s,u=0;u<s;u++)if(o[u]!==i[u]){a=u;break}for(var c=[],u=a;u<o.length;u++)c.push("..");return c=c.concat(i.slice(a)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:15}],10:[function(e,t,n){(function(t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function i(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function s(e){if(e instanceof ArrayBuffer)return i(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function a(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&H.call(n)==J}function u(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=u(e[n]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return s(e);if(!a(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=u(e[n]);void 0!==i&&(t[n]=i)}return t}function c(e){var t=!1;return P(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function l(e){return P(function(n){n=u(n);var r,o=this,i="function"==typeof n[n.length-1]&&n.pop();i&&(r=function(e,n){t.nextTick(function(){i(e,n)})});var s=new M(function(t,r){var i;try{var s=c(function(e,n){e?r(e):t(n)});n.push(s),i=e.apply(o,n),i&&"function"==typeof i.then&&t(i)}catch(e){r(e)}});return r&&s.then(function(e){r(null,e)},r),s})}function h(e,t){function n(e,t,n){if(Y.enabled){for(var r=[e._db_name,t],o=0;o<n.length-1;o++)r.push(n[o]);Y.apply(null,r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=[e._db_name,t];o=o.concat(n?["error",n]:["success",r]),Y.apply(null,o),i(n,r)}}}return l(P(function(r){if(this._closed)return M.reject(new Error("database is closed"));if(this._destroyed)return M.reject(new Error("database is destroyed"));var o=this;return n(o,e,r),this.taskqueue.isReady?t.apply(this,r):new M(function(t,n){o.taskqueue.addTask(function(i){i?n(i):t(o[e].apply(o,r))})})}))}function f(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function p(e){return e}function d(e){return[{ok:e}]}function v(e,t,n){function r(){var e=[];v.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++h===l&&r()}function i(e,t,n){v[e]={id:t,docs:n},o()}function s(){if(!(g>=m.length)){var e=Math.min(g+Q,m.length),t=m.slice(g,e);a(t,g),g+=t.length}}function a(n,r){n.forEach(function(n,o){var a=r+o,u=c[n],l=f(u[0],["atts_since","attachments"]);l.open_revs=u.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(p);var h=p;0===l.open_revs.length&&(delete l.open_revs,h=d),["revs","attachments","binary","ajax"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r;r=e?[{error:e}]:h(t),i(a,n,r),s()})})}var u=t.docs,c={};u.forEach(function(e){e.id in c?c[e.id].push(e):c[e.id]=[e]});var l=Object.keys(c).length,h=0,v=new Array(l),m=Object.keys(c),g=0;s()}function m(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function g(){return z}function y(e){m()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):g()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function w(){B.EventEmitter.call(this),this._listeners={},y(this)}function b(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function E(e,t){return e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function k(e){var t=0;return e||(t=2e3),E(e,t)}function _(e,t){b("info","The above "+e+" is totally normal. "+t)}function T(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=u(t[n]);void 0!==r&&(e[n]=r)}}function S(e,t,n){return T(e,t),n&&T(e,n),e}function O(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return V.createError(V.BAD_REQUEST,r)}}function R(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&O(e.filter,r.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function L(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function I(){}function N(e){var t;if(e?"string"!=typeof e?t=V.createError(V.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=V.createError(V.RESERVED_ID)):t=V.createError(V.MISSING_ID),t)throw t}function A(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap}function F(e,t){return"listenerCount"in e?e.listenerCount(t):B.EventEmitter.listenerCount(e,t)}function C(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function $(e){var t=C(e);return t?t.join("/"):null}function x(e){for(var t=re.exec(e),n={},r=14;r--;){var o=ee[r],i=t[r]||"",s=-1!==["user","password"].indexOf(o);n[o]=s?decodeURIComponent(i):i}return n[te]={},n[ee[12]].replace(ne,function(e,t,r){t&&(n[te][t]=r)}),n}function U(e,t,n){return new M(function(r,o){e.get(t,function(i,s){if(i){if(404!==i.status)return o(i);s={}}var a=s._rev,u=n(s);if(!u)return r({updated:!1,rev:a});u._id=t,u._rev=a,r(D(e,u,n))})})}function D(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return U(e,t._id,n)})}function j(e){return 0|Math.random()*e}function W(e,t){t=t||oe.length;var n="",r=-1;if(e){for(;++r<e;)n+=oe[j(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=oe[3&j(16)|8];break;default:n+=oe[j(16)]}return n}var z,M=r(e("pouchdb-promise")),P=r(e("argsarray")),q=r(e("debug")),B=e("events"),G=r(e("inherits")),V=e("pouchdb-errors"),H=Function.prototype.toString,J=H.call(Object),Y=q("pouchdb:api"),Q=6;if(m())z=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),z=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){z=!1}G(w,B.EventEmitter),w.prototype.addListener=function(e,t,n,r){function o(){function e(){s=!1}if(i._listeners[t]){if(s)return void(s="waiting");s=!0;var a=f(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(a).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===s&&setTimeout(function(){o()},0),s=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,s=!1;this._listeners[t]=o,this.on(e,o)}},w.prototype.removeListener=function(e,t){t in this._listeners&&B.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t])},w.prototype.notifyLocalWindows=function(e){m()?chrome.storage.local.set({dbName:e}):g()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},w.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var X,K=I.name;X=K?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var Z=X,ee=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],te="queryKey",ne=/(?:^|&)([^&=]*)=?([^&]*)/g,re=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,oe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");n.adapterFun=h,n.bulkGetShim=v,n.changesHandler=w,n.clone=u,n.defaultBackOff=k,n.explainError=_,n.extend=S,n.filterChange=R,n.flatten=L,n.functionName=Z,n.guardedConsole=b,n.hasLocalStorage=g,n.invalidIdError=N,n.isChromeApp=m,n.isCordova=A,n.listenerCount=F,n.normalizeDdocFunctionName=$,n.once=c,n.parseDdocFunctionName=C,n.parseUri=x,n.pick=f,n.toPromise=l,n.upsert=U,n.uuid=W}).call(this,e("_process"))},{_process:15,argsarray:2,debug:4,events:6,inherits:11,"pouchdb-errors":13,"pouchdb-promise":14}],11:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],12:[function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(e,t,n){d(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,s=c(o);"error"===s.status&&n(s.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function h(e){var t=new this(r);return v.reject(t,e)}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),s=0,a=-1,u=new this(r);++a<n;)!function(e,r){function a(e){i[r]=e,++s!==n||o||(o=!0,v.resolve(u,i))}t.resolve(e).then(a,function(e){o||(o=!0,v.reject(u,e))})}(e[a],a);return u}function p(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,s=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,v.resolve(s,e))},function(e){o||(o=!0,v.reject(s,e))})}(e[i]);return s}var d=e("immediate"),v={},m=["REJECTED"],g=["FULFILLED"],y=["PENDING"];t.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===g||"function"!=typeof t&&this.state===m)return this;var n=new this.constructor(r);if(this.state!==y){s(n,this.state===g?e:t,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(a,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=g,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,t){e.state=m,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=l,o.reject=h,o.all=f,o.race=p},{immediate:7}],13:[function(e,t,n){"use strict";function r(e){Error.call(this,e.reason),this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}function o(e,t,n){function o(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==n&&(this.name=n),void 0!==t&&(this.reason=t)}return o.prototype=r.prototype,new o(t)}function i(e){var t,n,r,i,s;return n=!0===e.error&&"string"==typeof e.name?e.name:e.error,s=e.reason,r=A("name",n,s),e.missing||"missing"===s||"deleted"===s||"not_found"===n?r=u:"doc_validation"===n?(r=y,i=s):"bad_request"===n&&r.message!==s&&(r=w),r||(r=A("status",e.status,s)||d),t=o(r,s,n),i&&(t.message=i),e.id&&(t.id=e.id),e.status&&(t.status=e.status),e.missing&&(t.missing=e.missing),t}(function(e){return e&&"object"==typeof e&&"default"in e?e.default:e})(e("inherits"))(r,Error),r.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var s=new r({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),a=new r({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),u=new r({status:404,error:"not_found",reason:"missing"}),c=new r({status:409,error:"conflict",reason:"Document update conflict"}),l=new r({status:400,error:"invalid_id",reason:"_id field must contain a string"}),h=new r({status:412,error:"missing_id",reason:"_id is required for puts"}),f=new r({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),p=new r({status:412,error:"precondition_failed",reason:"Database not open"}),d=new r({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),v=new r({status:500,error:"badarg",reason:"Some query argument is invalid"}),m=new r({status:400,error:"invalid_request",reason:"Request was invalid"}),g=new r({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),y=new r({status:500,error:"doc_validation",reason:"Bad special document member"}),w=new r({status:400,error:"bad_request",reason:"Something wrong with the request"}),b=new r({status:400,error:"bad_request",reason:"Document must be a JSON object"}),E=new r({status:404,error:"not_found",reason:"Database not found"}),k=new r({status:500,error:"indexed_db_went_bad",reason:"unknown"}),_=new r({status:500,error:"web_sql_went_bad",reason:"unknown"}),T=new r({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),S=new r({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),O=new r({status:400,error:"bad_request",reason:"Invalid rev format"}),R=new r({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),L=new r({status:412,error:"missing_stub"}),I=new r({status:413,error:"invalid_url",reason:"Provided URL is invalid"}),N=[s,a,u,c,l,h,f,p,d,v,m,g,y,w,b,E,_,T,S,O,R,L,k,I],A=function(e,t,n){var r=N.filter(function(n){return n[e]===t});return n&&r.filter(function(e){return e.message===n})[0]||r[0]};n.UNAUTHORIZED=s,n.MISSING_BULK_DOCS=a,n.MISSING_DOC=u,n.REV_CONFLICT=c,n.INVALID_ID=l,n.MISSING_ID=h,n.RESERVED_ID=f,n.NOT_OPEN=p,n.UNKNOWN_ERROR=d,n.BAD_ARG=v,n.INVALID_REQUEST=m,n.QUERY_PARSE_ERROR=g,n.DOC_VALIDATION=y,n.BAD_REQUEST=w,n.NOT_AN_OBJECT=b,n.DB_MISSING=E,n.WSQ_ERROR=_,n.LDB_ERROR=T,n.FORBIDDEN=S,n.INVALID_REV=O,n.FILE_EXISTS=R,n.MISSING_STUB=L,n.IDB_ERROR=k,n.INVALID_URL=I,n.getErrorTypeByProp=A,n.createError=o,n.generateErrorFromResponse=i},{inherits:11}],14:[function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(e("lie")),o="function"==typeof Promise?Promise:r;t.exports=o},{lie:12}],15:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(h===setTimeout)return setTimeout(e,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function s(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&d&&(m=!1,d.length?v=d.concat(v):g=-1,v.length&&u())}function u(){if(!m){var e=i(a);m=!0;for(var t=v.length;t;){for(d=v,v=[];++g<t;)d&&d[g].run();g=-1,t=v.length}d=null,m=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var h,f,p=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(e){h=r}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var d,v=[],m=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new c(e,t)),1!==v.length||m||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],16:[function(e,t,n){sql=e("./lib/sql_parser");for(var r in sql)n[r]=sql[r]},{"./lib/sql_parser":21}],17:[function(e,t,n){(function(r){var o=function(){function e(){this.yy={}}var t=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},n=[1,8],r=[5,26],o=[1,14],i=[1,13],s=[5,26,31,42],a=[1,17],u=[5,26,31,42,45,62],c=[1,27],l=[1,29],h=[1,38],f=[1,42],p=[1,43],d=[1,39],v=[1,40],m=[1,37],g=[1,41],y=[1,25],w=[5,26,31],b=[5,26,31,42,45],E=[1,55],k=[18,43],_=[1,58],T=[1,59],S=[1,60],O=[1,61],R=[5,18,23,26,31,34,37,38,41,42,43,45,62,64,65,66,67,68],L=[5,18,23,26,31,34,37,38,41,42,43,44,45,51,62,64,65,66,67,68,69],I=[1,66],N=[2,80],A=[1,80],F=[1,81],C=[1,96],$=[5,26,31,42,43,44],x=[1,104],U=[5,26,31,42,43,45,64],D=[5,26,31,41,42,45,62],j=[1,107],W=[1,108],z=[1,109],M=[5,26,31,34,35,37,38,41,42,45,62],P=[5,26,31,34,37,38,41,42,45,62],q=[5,26,31,42,56,58],B={trace:function(){},yy:{},symbols_:{error:2,Root:3,Query:4,EOF:5,SelectQuery:6,Unions:7,SelectWithLimitQuery:8,BasicSelectQuery:9,Select:10,OrderClause:11,GroupClause:12,LimitClause:13,SelectClause:14,WhereClause:15,SELECT:16,Fields:17,FROM:18,Table:19,DISTINCT:20,Joins:21,Literal:22,AS:23,LEFT_PAREN:24,List:25,RIGHT_PAREN:26,WINDOW:27,WINDOW_FUNCTION:28,Number:29,Union:30,UNION:31,ALL:32,Join:33,JOIN:34,ON:35,Expression:36,LEFT:37,RIGHT:38,INNER:39,OUTER:40,WHERE:41,LIMIT:42,SEPARATOR:43,OFFSET:44,ORDER:45,BY:46,OrderArgs:47,OffsetClause:48,OrderArg:49,Value:50,DIRECTION:51,OffsetRows:52,FetchClause:53,ROW:54,ROWS:55,FETCH:56,FIRST:57,ONLY:58,NEXT:59,GroupBasicClause:60,HavingClause:61,GROUP:62,ArgumentList:63,HAVING:64,MATH:65,MATH_MULTI:66,OPERATOR:67,CONDITIONAL:68,SUB_SELECT_OP:69,SubSelectExpression:70,SUB_SELECT_UNARY_OP:71,String:72,Function:73,UserFunction:74,Boolean:75,Parameter:76,NUMBER:77,BOOLEAN:78,PARAMETER:79,STRING:80,DBLSTRING:81,LITERAL:82,DOT:83,FUNCTION:84,AggregateArgumentList:85,Field:86,STAR:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",16:"SELECT",18:"FROM",20:"DISTINCT",23:"AS",24:"LEFT_PAREN",26:"RIGHT_PAREN",27:"WINDOW",28:"WINDOW_FUNCTION",31:"UNION",32:"ALL",34:"JOIN",35:"ON",37:"LEFT",38:"RIGHT",39:"INNER",40:"OUTER",41:"WHERE",42:"LIMIT",43:"SEPARATOR",44:"OFFSET",45:"ORDER",46:"BY",51:"DIRECTION",54:"ROW",55:"ROWS",56:"FETCH",57:"FIRST",58:"ONLY",59:"NEXT",62:"GROUP",64:"HAVING",65:"MATH",66:"MATH_MULTI",67:"OPERATOR",68:"CONDITIONAL",69:"SUB_SELECT_OP",71:"SUB_SELECT_UNARY_OP",77:"NUMBER",78:"BOOLEAN",79:"PARAMETER",80:"STRING",81:"DBLSTRING",82:"LITERAL",83:"DOT",84:"FUNCTION",87:"STAR"},productions_:[0,[3,2],[4,1],[4,2],[6,1],[6,1],[9,1],[9,2],[9,2],[9,3],[8,2],[10,1],[10,2],[14,4],[14,5],[14,5],[14,6],[19,1],[19,2],[19,3],[19,3],[19,3],[19,4],[19,6],[7,1],[7,2],[30,2],[30,3],[21,1],[21,2],[33,4],[33,5],[33,5],[33,6],[33,6],[33,6],[33,6],[15,2],[13,2],[13,4],[13,4],[11,3],[11,4],[47,1],[47,3],[49,1],[49,2],[48,2],[48,3],[52,2],[52,2],[53,4],[53,4],[12,1],[12,2],[60,3],[61,2],[36,3],[36,3],[36,3],[36,3],[36,3],[36,5],[36,3],[36,2],[36,1],[70,3],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[25,1],[29,1],[75,1],[76,1],[72,1],[72,1],[22,1],[22,3],[73,4],[74,4],[85,1],[85,2],[63,1],[63,3],[17,1],[17,3],[86,1],[86,1],[86,3]],performAction:function(e,t,n,r,o,i,s){var a=i.length-1;switch(o){case 1:return this.$=i[a-1];case 2:case 4:case 5:case 6:case 11:case 53:case 65:case 67:case 68:case 69:case 70:case 71:case 72:case 73:this.$=i[a];break;case 3:this.$=function(){return i[a-1].unions=i[a],i[a-1]}();break;case 7:this.$=function(){return i[a-1].order=i[a],i[a-1]}();break;case 8:this.$=function(){return i[a-1].group=i[a],i[a-1]}();break;case 9:this.$=function(){return i[a-2].group=i[a-1],i[a-2].order=i[a],i[a-2]}();break;case 10:this.$=function(){return i[a-1].limit=i[a],i[a-1]}();break;case 12:this.$=function(){return i[a-1].where=i[a],i[a-1]}();break;case 13:this.$=new r.Select(i[a-2],i[a],!1);break;case 14:this.$=new r.Select(i[a-2],i[a],!0);break;case 15:this.$=new r.Select(i[a-3],i[a-1],!1,i[a]);break;case 16:this.$=new r.Select(i[a-3],i[a-1],!0,i[a]);break;case 17:this.$=new r.Table(i[a]);break;case 18:
this.$=new r.Table(i[a-1],i[a]);break;case 19:this.$=new r.Table(i[a-2],i[a]);break;case 20:case 49:case 50:case 51:case 52:case 57:this.$=i[a-1];break;case 21:case 66:this.$=new r.SubSelect(i[a-1]);break;case 22:this.$=new r.SubSelect(i[a-2],i[a]);break;case 23:this.$=new r.Table(i[a-5],null,i[a-4],i[a-3],i[a-1]);break;case 24:case 28:case 43:case 86:case 88:this.$=[i[a]];break;case 25:this.$=i[a-1].concat(i[$01]);break;case 26:this.$=new r.Union(i[a]);break;case 27:this.$=new r.Union(i[a],!0);break;case 29:this.$=i[a-1].concat(i[a]);break;case 30:this.$=new r.Join(i[a-2],i[a]);break;case 31:this.$=new r.Join(i[a-2],i[a],"LEFT");break;case 32:this.$=new r.Join(i[a-2],i[a],"RIGHT");break;case 33:this.$=new r.Join(i[a-2],i[a],"LEFT","INNER");break;case 34:this.$=new r.Join(i[a-2],i[a],"RIGHT","INNER");break;case 35:this.$=new r.Join(i[a-2],i[a],"LEFT","OUTER");break;case 36:this.$=new r.Join(i[a-2],i[a],"RIGHT","OUTER");break;case 37:this.$=new r.Where(i[a]);break;case 38:this.$=new r.Limit(i[a]);break;case 39:this.$=new r.Limit(i[a],i[a-2]);break;case 40:this.$=new r.Limit(i[a-2],i[a]);break;case 41:this.$=new r.Order(i[a]);break;case 42:this.$=new r.Order(i[a-1],i[a]);break;case 44:case 87:case 89:this.$=i[a-2].concat(i[a]);break;case 45:this.$=new r.OrderArgument(i[a],"ASC");break;case 46:this.$=new r.OrderArgument(i[a-1],i[a]);break;case 47:this.$=new r.Offset(i[a]);break;case 48:this.$=new r.Offset(i[a-1],i[a]);break;case 54:this.$=function(){return i[a-1].having=i[a],i[a-1]}();break;case 55:this.$=new r.Group(i[a]);break;case 56:this.$=new r.Having(i[a]);break;case 58:case 59:case 60:case 61:case 63:this.$=new r.Op(i[a-1],i[a-2],i[a]);break;case 62:this.$=new r.Op(i[a-3],i[a-4],i[a-1]);break;case 64:this.$=new r.UnaryOp(i[a-1],i[a]);break;case 74:this.$=new r.ListValue(i[a]);break;case 75:this.$=new r.NumberValue(i[a]);break;case 76:this.$=new r.BooleanValue(i[a]);break;case 77:this.$=new r.ParameterValue(i[a]);break;case 78:this.$=new r.StringValue(i[a],"'");break;case 79:this.$=new r.StringValue(i[a],'"');break;case 80:this.$=new r.LiteralValue(i[a]);break;case 81:this.$=new r.LiteralValue(i[a-2],i[a]);break;case 82:this.$=new r.FunctionValue(i[a-3],i[a-1]);break;case 83:this.$=new r.FunctionValue(i[a-3],i[a-1],!0);break;case 84:this.$=new r.ArgumentListValue(i[a]);break;case 85:this.$=new r.ArgumentListValue(i[a],!0);break;case 90:this.$=new r.Star;break;case 91:this.$=new r.Field(i[a]);break;case 92:this.$=new r.Field(i[a-2],i[a])}},table:[{3:1,4:2,6:3,8:4,9:5,10:6,14:7,16:n},{1:[3]},{5:[1,9]},t(r,[2,2],{7:10,13:11,30:12,31:o,42:i}),t(s,[2,4]),t(s,[2,5]),t(s,[2,6],{11:15,12:16,60:18,45:a,62:[1,19]}),t(u,[2,11],{15:20,41:[1,21]}),{17:22,20:[1,23],22:30,24:c,29:31,36:26,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g,86:24,87:y},{1:[2,1]},t(r,[2,3],{30:44,31:o}),t(s,[2,10]),t(w,[2,24]),{29:45,77:h},{6:46,8:4,9:5,10:6,14:7,16:n,32:[1,47]},t(s,[2,7]),t(s,[2,8],{11:48,45:a}),{46:[1,49]},t(b,[2,53],{61:50,64:[1,51]}),{46:[1,52]},t(u,[2,12]),{22:30,24:c,29:31,36:53,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{18:[1,54],43:E},{17:56,22:30,24:c,29:31,36:26,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g,86:24,87:y},t(k,[2,88]),t(k,[2,90]),t(k,[2,91],{23:[1,57],65:_,66:T,67:S,68:O}),{22:30,24:c,29:31,36:62,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},t(R,[2,65],{69:[1,63]}),{24:[1,65],70:64},t(L,[2,67],{83:I}),t(L,[2,68]),t(L,[2,69]),t(L,[2,70]),t(L,[2,71]),t(L,[2,72]),t(L,[2,73]),t([5,18,23,26,31,34,37,38,41,42,43,44,45,51,62,64,65,66,67,68,69,83],N,{24:[1,67]}),t([5,18,23,26,31,34,37,38,41,42,43,44,45,51,54,55,62,64,65,66,67,68,69],[2,75]),t(L,[2,78]),t(L,[2,79]),{24:[1,68]},t(L,[2,76]),t(L,[2,77]),t(w,[2,25]),t(s,[2,38],{43:[1,69],44:[1,70]}),t(w,[2,26],{13:11,42:i}),{6:71,8:4,9:5,10:6,14:7,16:n},t(s,[2,9]),{22:30,29:31,47:72,49:73,50:74,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},t(b,[2,54]),{22:30,24:c,29:31,36:75,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{22:30,24:c,29:31,36:77,50:28,63:76,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},t(u,[2,37],{65:_,66:T,67:S,68:O}),{19:78,22:79,24:A,82:F},{22:30,24:c,29:31,36:26,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g,86:82,87:y},{18:[1,83],43:E},{22:84,82:F},{22:30,24:c,29:31,36:85,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{22:30,24:c,29:31,36:86,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{22:30,24:c,29:31,36:87,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{22:30,24:c,29:31,36:88,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{26:[1,89],65:_,66:T,67:S,68:O},{24:[1,90],70:91},t(R,[2,64]),{4:92,6:3,8:4,9:5,10:6,14:7,16:n},{82:[1,93]},{20:C,22:30,24:c,29:31,36:77,50:28,63:95,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g,85:94},{20:C,22:30,24:c,29:31,36:77,50:28,63:95,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g,85:97},{29:98,77:h},{29:99,77:h},t(w,[2,27],{13:11,42:i}),t(s,[2,41],{48:100,43:[1,101],44:[1,102]}),t($,[2,43]),t($,[2,45],{51:[1,103]}),t(b,[2,56],{65:_,66:T,67:S,68:O}),t([5,26,31,42,45,64],[2,55],{43:x}),t(U,[2,86],{65:_,66:T,67:S,68:O}),t(D,[2,13],{21:105,33:106,34:j,37:W,38:z}),t(M,[2,17],{22:110,23:[1,111],27:[1,112],82:F,83:I}),{4:114,6:3,8:4,9:5,10:6,14:7,16:n,22:30,24:c,25:113,29:31,36:77,50:28,63:115,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},t([5,18,23,26,27,31,34,35,37,38,41,42,43,45,62,82,83],N),t(k,[2,89]),{19:116,22:79,24:A,82:F},t(k,[2,92],{83:I}),t([5,18,23,26,31,34,37,38,41,42,43,45,62,64,65,67,68],[2,58],{66:T}),t(R,[2,59]),t([5,18,23,26,31,34,37,38,41,42,43,45,62,64,67,68],[2,60],{65:_,66:T}),t([5,18,23,26,31,34,37,38,41,42,43,45,62,64,68],[2,61],{65:_,66:T,67:S}),t(R,[2,57]),{4:92,6:3,8:4,9:5,10:6,14:7,16:n,22:30,24:c,25:117,29:31,36:77,50:28,63:115,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},t(R,[2,63]),{26:[1,118]},t([5,18,23,26,27,31,34,35,37,38,41,42,43,44,45,51,62,64,65,66,67,68,69,82,83],[2,81]),{26:[1,119]},{26:[2,84],43:x},{22:30,24:c,29:31,36:77,50:28,63:120,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{26:[1,121]},t(s,[2,39]),t(s,[2,40]),t(s,[2,42]),{22:30,29:31,49:122,50:74,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{29:124,52:123,77:h},t($,[2,46]),{22:30,29:31,50:125,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},t(D,[2,15],{33:126,34:j,37:W,38:z}),t(P,[2,28]),{19:127,22:79,24:A,82:F},{34:[1,128],39:[1,129],40:[1,130]},{34:[1,131],39:[1,132],40:[1,133]},t(M,[2,18],{83:I}),{22:134,82:F},{28:[1,135]},{26:[1,136]},{26:[1,137]},{26:[2,74],43:x},t(D,[2,14],{33:106,21:138,34:j,37:W,38:z}),{26:[1,139]},t(R,[2,66]),t(L,[2,83]),{26:[2,85],43:x},t(L,[2,82]),t($,[2,44]),t(s,[2,47],{53:140,56:[1,141]}),{54:[1,142],55:[1,143]},t(U,[2,87]),t(P,[2,29]),{35:[1,144]},{19:145,22:79,24:A,82:F},{34:[1,146]},{34:[1,147]},{19:148,22:79,24:A,82:F},{34:[1,149]},{34:[1,150]},t(M,[2,19],{83:I}),{24:[1,151]},t(M,[2,20]),t(M,[2,21],{22:152,82:F}),t(D,[2,16],{33:126,34:j,37:W,38:z}),t(R,[2,62]),t(s,[2,48]),{57:[1,153],59:[1,154]},t(q,[2,49]),t(q,[2,50]),{22:30,24:c,29:31,36:155,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{35:[1,156]},{19:157,22:79,24:A,82:F},{19:158,22:79,24:A,82:F},{35:[1,159]},{19:160,22:79,24:A,82:F},{19:161,22:79,24:A,82:F},{29:162,77:h},t(M,[2,22],{83:I}),{29:124,52:163,77:h},{29:124,52:164,77:h},t(P,[2,30],{65:_,66:T,67:S,68:O}),{22:30,24:c,29:31,36:165,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{35:[1,166]},{35:[1,167]},{22:30,24:c,29:31,36:168,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{35:[1,169]},{35:[1,170]},{26:[1,171]},{58:[1,172]},{58:[1,173]},t(P,[2,31],{65:_,66:T,67:S,68:O}),{22:30,24:c,29:31,36:174,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{22:30,24:c,29:31,36:175,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},t(P,[2,32],{65:_,66:T,67:S,68:O}),{22:30,24:c,29:31,36:176,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},{22:30,24:c,29:31,36:177,50:28,71:l,72:32,73:33,74:34,75:35,76:36,77:h,78:f,79:p,80:d,81:v,82:m,84:g},t(M,[2,23]),t(s,[2,51]),t(s,[2,52]),t(P,[2,33],{65:_,66:T,67:S,68:O}),t(P,[2,35],{65:_,66:T,67:S,68:O}),t(P,[2,34],{65:_,66:T,67:S,68:O}),t(P,[2,36],{65:_,66:T,67:S,68:O})],defaultActions:{9:[2,1]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){function t(){var e;return e=p.lex()||h,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,r=[0],o=[null],i=[],s=this.table,a="",u=0,c=0,l=0,h=1,f=i.slice.call(arguments,1),p=Object.create(this.lexer),d={yy:{}};for(var v in this.yy)Object.prototype.hasOwnProperty.call(this.yy,v)&&(d.yy[v]=this.yy[v]);p.setInput(e,d.yy),d.yy.lexer=p,d.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var m=p.yylloc;i.push(m);var g=p.options&&p.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,w,b,E,k,_,T,S,O,R={};;){if(b=r[r.length-1],this.defaultActions[b]?E=this.defaultActions[b]:(null!==y&&void 0!==y||(y=t()),E=s[b]&&s[b][y]),void 0===E||!E.length||!E[0]){var L="";O=[];for(_ in s[b])this.terminals_[_]&&_>2&&O.push("'"+this.terminals_[_]+"'");L=p.showPosition?"Parse error on line "+(u+1)+":\n"+p.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(u+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(L,{text:p.match,token:this.terminals_[y]||y,line:p.yylineno,loc:m,expected:O})}if(E[0]instanceof Array&&E.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+y);switch(E[0]){case 1:r.push(y),o.push(p.yytext),i.push(p.yylloc),r.push(E[1]),y=null,w?(y=w,w=null):(c=p.yyleng,a=p.yytext,u=p.yylineno,m=p.yylloc,l>0&&l--);break;case 2:if(T=this.productions_[E[1]][1],R.$=o[o.length-T],R._$={first_line:i[i.length-(T||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(T||1)].first_column,last_column:i[i.length-1].last_column},g&&(R._$.range=[i[i.length-(T||1)].range[0],i[i.length-1].range[1]]),void 0!==(k=this.performAction.apply(R,[a,c,u,d.yy,E[1],o,i].concat(f))))return k;T&&(r=r.slice(0,-1*T*2),o=o.slice(0,-1*T),i=i.slice(0,-1*T)),r.push(this.productions_[E[1]][0]),o.push(R.$),i.push(R._$),S=s[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}};return e.prototype=B,B.Parser=e,new e}();void 0!==e&&void 0!==n&&(n.parser=o,n.Parser=o.Parser,n.parse=function(){return o.parse.apply(o,arguments)},n.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),r.exit(1));var o=e("fs").readFileSync(e("path").normalize(t[1]),"utf8");return n.parser.parse(o)},void 0!==t&&e.main===t&&n.main(r.argv.slice(1)))}).call(this,e("_process"))},{_process:15,fs:3,path:9}],18:[function(e,t,n){(function(){var e;e=function(){function e(e,t){var n,r;for(null==t&&(t={}),this.sql=e,this.preserveWhitespace=t.preserveWhitespace||!1,this.tokens=[],this.currentLine=1,r=0;this.chunk=e.slice(r);){if((n=this.keywordToken()||this.starToken()||this.booleanToken()||this.functionToken()||this.windowExtension()||this.sortOrderToken()||this.seperatorToken()||this.operatorToken()||this.mathToken()||this.dotToken()||this.conditionalToken()||this.subSelectOpToken()||this.subSelectUnaryOpToken()||this.numberToken()||this.stringToken()||this.parameterToken()||this.parensToken()||this.whitespaceToken()||this.literalToken())<1)throw new Error("NOTHING CONSUMED: Stopped at - '"+this.chunk.slice(0,30)+"'");r+=n}this.token("EOF",""),this.postProcess()}var t,n,r,o,i,s,a,u,c,l,h,f,p,d,v,m,g;return e.prototype.postProcess=function(){var e,t,n,r,o,i,s;for(i=this.tokens,s=[],e=r=0,o=i.length;r<o;e=++r)n=i[e],"STAR"===n[0]?(t=this.tokens[e+1],"SEPARATOR"!==t[0]&&"FROM"!==t[0]?s.push(n[0]="MATH_MULTI"):s.push(void 0)):s.push(void 0);return s},e.prototype.token=function(e,t){return this.tokens.push([e,t,this.currentLine])},e.prototype.tokenizeFromRegex=function(e,t,n,r,o){var i,s;return null==n&&(n=0),null==r&&(r=n),null==o&&(o=!0),(i=t.exec(this.chunk))?(s=i[n],o&&this.token(e,s),i[r].length):0},e.prototype.tokenizeFromWord=function(e,t){var n,r;return null==t&&(t=e),t=this.regexEscape(t),r=/^\w+$/.test(t)?new RegExp("^("+t+")\\b","ig"):new RegExp("^("+t+")","ig"),(n=r.exec(this.chunk))?(this.token(e,n[1]),n[1].length):0},e.prototype.tokenizeFromList=function(e,t){var n,r,o,i;for(r=0,o=0,i=t.length;o<i&&(n=t[o],!((r=this.tokenizeFromWord(e,n))>0));o++);return r},e.prototype.keywordToken=function(){return this.tokenizeFromWord("SELECT")||this.tokenizeFromWord("DISTINCT")||this.tokenizeFromWord("FROM")||this.tokenizeFromWord("WHERE")||this.tokenizeFromWord("GROUP")||this.tokenizeFromWord("ORDER")||this.tokenizeFromWord("BY")||this.tokenizeFromWord("HAVING")||this.tokenizeFromWord("LIMIT")||this.tokenizeFromWord("JOIN")||this.tokenizeFromWord("LEFT")||this.tokenizeFromWord("RIGHT")||this.tokenizeFromWord("INNER")||this.tokenizeFromWord("OUTER")||this.tokenizeFromWord("ON")||this.tokenizeFromWord("AS")||this.tokenizeFromWord("UNION")||this.tokenizeFromWord("ALL")||this.tokenizeFromWord("LIMIT")||this.tokenizeFromWord("OFFSET")||this.tokenizeFromWord("FETCH")||this.tokenizeFromWord("ROW")||this.tokenizeFromWord("ROWS")||this.tokenizeFromWord("ONLY")||this.tokenizeFromWord("NEXT")||this.tokenizeFromWord("FIRST")},e.prototype.dotToken=function(){return this.tokenizeFromWord("DOT",".")},e.prototype.operatorToken=function(){return this.tokenizeFromList("OPERATOR",h)},e.prototype.mathToken=function(){return this.tokenizeFromList("MATH",o)||this.tokenizeFromList("MATH_MULTI",i)},e.prototype.conditionalToken=function(){return this.tokenizeFromList("CONDITIONAL",c)},e.prototype.subSelectOpToken=function(){return this.tokenizeFromList("SUB_SELECT_OP",v)},e.prototype.subSelectUnaryOpToken=function(){return this.tokenizeFromList("SUB_SELECT_UNARY_OP",m)},e.prototype.functionToken=function(){return this.tokenizeFromList("FUNCTION",l)},e.prototype.sortOrderToken=function(){return this.tokenizeFromList("DIRECTION",f)},e.prototype.booleanToken=function(){return this.tokenizeFromList("BOOLEAN",t)},e.prototype.starToken=function(){return this.tokenizeFromRegex("STAR",p)},e.prototype.seperatorToken=function(){return this.tokenizeFromRegex("SEPARATOR",u)},e.prototype.literalToken=function(){return this.tokenizeFromRegex("LITERAL",r,1,0)},e.prototype.numberToken=function(){return this.tokenizeFromRegex("NUMBER",s)},e.prototype.parameterToken=function(){return this.tokenizeFromRegex("PARAMETER",a)},e.prototype.stringToken=function(){return this.tokenizeFromRegex("STRING",d,1,0)||this.tokenizeFromRegex("DBLSTRING",n,1,0)},e.prototype.parensToken=function(){return this.tokenizeFromRegex("LEFT_PAREN",/^\(/)||this.tokenizeFromRegex("RIGHT_PAREN",/^\)/)},e.prototype.windowExtension=function(){var e;return(e=/^\.(win):(length|time)/i.exec(this.chunk))?(this.token("WINDOW",e[1]),this.token("WINDOW_FUNCTION",e[2]),e[0].length):0},e.prototype.whitespaceToken=function(){var e,t,n;return(e=g.exec(this.chunk))?(n=e[0],t=n.replace(/[^\n]/,"").length,this.currentLine+=t,this.preserveWhitespace&&this.token(name,n),n.length):0},e.prototype.regexEscape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},l=["AVG","COUNT","MIN","MAX","SUM"],f=["ASC","DESC"],h=["=","!=",">=",">","<=","<>","<","LIKE","IS NOT","IS"],v=["IN","NOT IN","ANY","ALL","SOME"],m=["EXISTS"],c=["AND","OR"],t=["TRUE","FALSE","NULL"],o=["+","-"],i=["/","*"],p=/^\*/,u=/^,/,g=/^[ \n\r]+/,r=/^`?([a-z_][a-z0-9_]{0,})`?/i,a=/^\$[0-9]+/,s=/^[0-9]+(\.[0-9]+)?/,d=/^'([^\\']*(?:\\.[^\\']*)*)'/,n=/^"([^\\"]*(?:\\.[^\\"]*)*)"/,e}(),n.tokenize=function(t,n){return new e(t,n).tokens}}).call(this)},{}],19:[function(e,t,n){(function(){var e;e=function(e){var t;return function(){var n,r,o,i;for(o=e.split("\n"),i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push("  "+t);return i}().join("\n")},n.Select=function(){function t(e,t,n,r,o){this.fields=e,this.source=t,this.distinct=null!=n&&n,this.joins=null!=r?r:[],this.unions=null!=o?o:[],this.order=null,this.group=null,this.where=null,this.limit=null}return t.prototype.toString=function(){var t,n,r,o,i,s,a,u,c;for(n=["SELECT "+this.fields.join(", ")],n.push(e("FROM "+this.source)),u=this.joins,o=0,s=u.length;o<s;o++)t=u[o],n.push(e(t.toString()));for(this.where&&n.push(e(this.where.toString())),this.group&&n.push(e(this.group.toString())),this.order&&n.push(e(this.order.toString())),this.limit&&n.push(e(this.limit.toString())),c=this.unions,i=0,a=c.length;i<a;i++)r=c[i],n.push(r.toString());return n.join("\n")},t}(),n.SubSelect=function(){function t(e,t){this.select=e,this.name=null!=t?t:null}return t.prototype.toString=function(){var t;return t=[],t.push("("),t.push(e(this.select.toString())),t.push(this.name?") "+this.name.toString():")"),t.join("\n")},t}(),n.Join=function(){function t(e,t,n,r){this.right=e,this.conditions=null!=t?t:null,this.side=null!=n?n:null,this.mode=null!=r?r:null}return t.prototype.toString=function(){var t;return t="",null!=this.side&&(t+=this.side+" "),null!=this.mode&&(t+=this.mode+" "),t+"JOIN "+this.right+"\n"+e("ON "+this.conditions)},t}(),n.Union=function(){function e(e,t){this.query=e,this.all=null!=t&&t}return e.prototype.toString=function(){return"UNION"+(this.all?" ALL":"")+"\n"+this.query.toString()},e}(),n.LiteralValue=function(){function e(e,t){this.value=e,this.value2=null!=t?t:null,this.value2?(this.nested=!0,this.values=this.value.values,this.values.push(t)):(this.nested=!1,this.values=[this.value])}return e.prototype.toString=function(){return"`"+this.values.join(".")+"`"},e}(),n.StringValue=function(){function e(e,t){this.value=e,this.quoteType=null!=t?t:"''"}return e.prototype.toString=function(){return""+this.quoteType+this.value+this.quoteType},e}(),n.NumberValue=function(){function e(e){this.value=Number(e)}return e.prototype.toString=function(){return this.value.toString()},e}(),n.ListValue=function(){function e(e){this.value=e}return e.prototype.toString=function(){return"("+this.value.join(", ")+")"},e}(),n.ParameterValue=function(){function e(e){this.value=e,this.index=parseInt(e.substr(1),10)-1}return e.prototype.toString=function(){return""+this.value},e}(),n.ArgumentListValue=function(){function e(e,t){this.value=e,this.distinct=null!=t&&t}return e.prototype.toString=function(){return this.distinct?"DISTINCT "+this.value.join(", "):""+this.value.join(", ")},e}(),n.BooleanValue=function(){function e(e){this.value=function(){switch(e.toLowerCase()){case"true":return!0;case"false":return!1;default:return null}}()}return e.prototype.toString=function(){return null!=this.value?this.value.toString().toUpperCase():"NULL"},e}(),n.FunctionValue=function(){function e(e,t,n){this.name=e,this.arguments=null!=t?t:null,this.udf=null!=n&&n}return e.prototype.toString=function(){return this.arguments?this.name.toUpperCase()+"("+this.arguments.toString()+")":this.name.toUpperCase()+"()"},e}(),n.Order=function(){function e(e,t){this.orderings=e,this.offset=t}return e.prototype.toString=function(){return"ORDER BY "+this.orderings.join(", ")+(this.offset?"\n"+this.offset.toString():"")},e}(),n.OrderArgument=function(){function e(e,t){this.value=e,this.direction=null!=t?t:"ASC"}return e.prototype.toString=function(){return this.value+" "+this.direction},e}(),n.Offset=function(){function e(e,t){this.row_count=e,this.limit=t}return e.prototype.toString=function(){return"OFFSET "+this.row_count+" ROWS"+(this.limit?"\nFETCH NEXT "+this.limit+" ROWS ONLY":"")},e}(),n.Limit=function(){function e(e,t){this.value=e,this.offset=t}return e.prototype.toString=function(){return"LIMIT "+this.value+(this.offset?"\nOFFSET "+this.offset:"")},e}(),n.Table=function(){function e(e,t,n,r,o){this.name=e,this.alias=null!=t?t:null,this.win=null!=n?n:null,this.winFn=null!=r?r:null,this.winArg=null!=o?o:null}return e.prototype.toString=function(){return this.win?this.name+"."+this.win+":"+this.winFn+"("+this.winArg+")":this.alias?this.name+" AS "+this.alias:this.name.toString()},e}(),n.Group=function(){function e(e){this.fields=e,this.having=null}return e.prototype.toString=function(){var e;return e=["GROUP BY "+this.fields.join(", ")],this.having&&e.push(this.having.toString()),e.join("\n")},e}(),n.Where=function(){function e(e){this.conditions=e}return e.prototype.toString=function(){return"WHERE "+this.conditions},e}(),n.Having=function(){function e(e){this.conditions=e}return e.prototype.toString=function(){return"HAVING "+this.conditions},e}(),n.Op=function(){function e(e,t,n){this.operation=e,this.left=t,this.right=n}return e.prototype.toString=function(){return"("+this.left+" "+this.operation.toUpperCase()+" "+this.right+")"},e}(),n.UnaryOp=function(){function e(e,t){this.operator=e,this.operand=t}return e.prototype.toString=function(){return"("+this.operator.toUpperCase()+" "+this.operand+")"},e}(),n.Field=function(){function e(e,t){this.field=e,this.name=null!=t?t:null}return e.prototype.toString=function(){return this.name?this.field+" AS "+this.name:this.field.toString()},e}(),n.Star=function(){function e(){}return e.prototype.toString=function(){return"*"},e.prototype.star=!0,e}()}).call(this)},{}],20:[function(e,t,n){(function(){var t;t=function(){var t;return t=e("./compiled_parser").parser,t.lexer={lex:function(){var e,t;return t=this.tokens[this.pos++]||[""],e=t[0],this.yytext=t[1],this.yylineno=t[2],e},setInput:function(e){return this.tokens=e,this.pos=0},upcomingInput:function(){return""}},t.yy=e("./nodes"),t},n.parser=t(),n.parse=function(e){return t().parse(e)}}).call(this)},{"./compiled_parser":17,"./nodes":19}],21:[function(e,t,n){(function(){n.lexer=e("./lexer"),n.parser=e("./parser"),n.nodes=e("./nodes"),n.parse=function(e){return n.parser.parse(n.lexer.tokenize(e))}}).call(this)},{"./lexer":18,"./nodes":19,"./parser":20}],22:[function(e,t,n){var r=e("sql-parser"),o=function(e){var t=e.toString().replace(/^[`']/,"").replace(/[`']$/,"");if(t.match(/`/))throw new Error(t+" not supported");return t},i=function(e){var t=o(e),n=t.toUpperCase();return t.match(/^[\-0-9\.]+$/)?t.match(/\./)?parseFloat(t):parseInt(t):"TRUE"===n||"FALSE"!==n&&t},s=function(e,t){var n=null;switch(t.operation.toUpperCase()){case"=":e[o(t.left)]={$eq:i(t.right)};break;case"!=":e[o(t.left)]={$ne:i(t.right)};break;case"<":e[o(t.left)]={$lt:i(t.right)};break;case"<=":e[o(t.left)]={$lte:i(t.right)};break;case">":e[o(t.left)]={$gt:i(t.right)};break;case">=":e[o(t.left)]={$gte:i(t.right)};break;case"IN":e[o(t.left)]={$in:t.right.value.map(function(e){return e.value})};break;case"NOT IN":e[o(t.left)]={$nin:t.right.value.map(function(e){return e.value})};break;case"AND":n="$and",e[n]=[],e[n].push(s({},t.left)),e[n].push(s({},t.right));break;case"OR":n="$or",e[n]=[],e[n].push(s({},t.left)),e[n].push(s({},t.right));break;default:throw new Error("unsupported SQL operation "+t.operation)}return e},a=function(e){if("string"!=typeof e)throw new Error("query must be a string");var t={},n=r.parse(e);if(n.distinct)throw new Error("DISTINCT not supported");if(n.joins.length>0)throw new Error("joins not supported");if(n.unions.length>0)throw new Error("unions not supported");if(n.group)throw new Error("GROUP not supported");if(n.fields&&"*"!==n.fields.toString()){t.fields=[];for(var i in n.fields){var a=n.fields[i];if(null!==a.name)throw new Error("alias "+a.toString()+" not supported");if(!a.field.value)throw new Error(a.toString()+" not supported");t.fields.push(o(a.field))}}if(n.where&&(t.selector=s({},n.where.conditions)),n.order&&n.order.orderings){t.sort=[];var u=null;for(var i in n.order.orderings){var c=n.order.orderings[i],l={};if(l[c.value.value]="DESC"===c.direction.toUpperCase()?"desc":"asc",null!=u&&l[c.value.value]!=u)throw new Error("ORDER BY must be either all ASC or all DESC, not mixed");u=l[c.value.value],t.sort.push(l)}}return n.limit&&(t.limit=n.limit.value.value,n.limit.offset&&(t.skip=n.limit.offset.value)),t};t.exports={parse:a}},{"sql-parser":16}]},{},[1]);
